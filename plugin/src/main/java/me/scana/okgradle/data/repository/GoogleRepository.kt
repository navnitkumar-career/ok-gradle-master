package me.scana.okgradle.data.repository

import io.reactivex.Single
import okhttp3.HttpUrl.Companion.toHttpUrl
import okhttp3.Request
import javax.xml.stream.XMLInputFactory

class GoogleRepository(private val networkClient: NetworkClient) : ArtifactRepository {

    private val xmlInputFactory = XMLInputFactory.newInstance()

    override fun search(query: String): Single<SearchResult> {
        return Single.create {
            val result = when {
                query.isEmpty() -> SearchResult.Success()
                else -> findArtifacts(query)
            }
            it.onSuccess(result)
        }
    }

    private fun findArtifacts(query: String): SearchResult {
        val artifactIds = ARTIFACT_NAMES.filter { it.contains(query) }
        val artifacts = artifactIds
                .mapIndexed { index, artifactId ->
                    // check version for only first couple of artifacts,
                    // to avoid making too many requests at once
                    val version = if (index < 10)  {
                        getLatestVersion(artifactId)
                    } else {
                        "+"
                    }
                    val (groupId, name) = artifactId.split(":".toRegex(), 2)
                    Artifact(groupId, name, version)
                }
        return SearchResult.Success(artifacts)
    }

    private fun getLatestVersion(artifactId: String): String {
        val path = artifactId
                .replace('.', '/')
                .replace(':', '/')

        val url = GOOGLE_MAVEN_URL.newBuilder()
                .addPathSegment(path)
                .addPathSegment(MAVEN_METADATA)
                .build()

        val request = Request.Builder()
                .url(url)
                .build()

        val response = networkClient.execute(request) {
            val xmlEventReader = xmlInputFactory.createXMLEventReader(this.charStream())
            while (xmlEventReader.hasNext()) {
                val event = xmlEventReader.nextEvent()
                if (event.isStartElement && event.asStartElement().name.localPart == MAVEN_METADATA_VERSION) {
                    return@execute xmlEventReader.elementText
                }
            }
            return@execute "+"
        }
        return when(response) {
            is NetworkResult.Failure -> "+"
            is NetworkResult.Success -> response.data
        }
    }

    companion object {
        val GOOGLE_MAVEN_URL = "https://dl.google.com/dl/android/maven2/".toHttpUrl()

        const val MAVEN_METADATA = "maven-metadata.xml"
        const val MAVEN_METADATA_VERSION = "release"

        val ARTIFACT_NAMES = listOf(
                "android.arch.core:core-testing",
                "android.arch.core:core",
                "android.arch.core:runtime",
                "android.arch.core:common",
                "android.arch.lifecycle:compiler",
                "android.arch.lifecycle:runtime",
                "android.arch.lifecycle:extensions",
                "android.arch.lifecycle:reactivestreams",
                "android.arch.lifecycle:common",
                "android.arch.lifecycle:common-java8",
                "android.arch.lifecycle:viewmodel",
                "android.arch.lifecycle:livedata-core",
                "android.arch.lifecycle:livedata",
                "android.arch.navigation:navigation-common",
                "android.arch.navigation:navigation-safe-args-gradle-plugin",
                "android.arch.navigation:navigation-runtime",
                "android.arch.navigation:navigation-testing-ktx",
                "android.arch.navigation:navigation-common-ktx",
                "android.arch.navigation:navigation-ui",
                "android.arch.navigation:navigation-fragment-ktx",
                "android.arch.navigation:navigation-testing",
                "android.arch.navigation:navigation-ui-ktx",
                "android.arch.navigation:navigation-safe-args-generator",
                "android.arch.navigation:navigation-runtime-ktx",
                "android.arch.navigation:navigation-fragment",
                "android.arch.paging:runtime",
                "android.arch.paging:common",
                "android.arch.paging:rxjava2",
                "android.arch.persistence:db-framework",
                "android.arch.persistence:db",
                "android.arch.persistence.room:compiler",
                "android.arch.persistence.room:support-db-impl",
                "android.arch.persistence.room:runtime",
                "android.arch.persistence.room:support-db",
                "android.arch.persistence.room:migration",
                "android.arch.persistence.room:rxjava2",
                "android.arch.persistence.room:testing",
                "android.arch.persistence.room:common",
                "android.arch.persistence.room:db",
                "android.arch.persistence.room:db-impl",
                "android.arch.persistence.room:guava",
                "android.arch.work:work-runtime-ktx",
                "android.arch.work:work-firebase",
                "android.arch.work:work-runtime",
                "android.arch.work:work-testing",
                "android.arch.work:work-rxjava2",
                "androidx.activity:activity",
                "androidx.activity:activity-ktx",
                "androidx.ads:ads-identifier",
                "androidx.ads:ads-identifier-common",
                "androidx.ads:ads-identifier-provider",
                "androidx.annotation:annotation",
                "androidx.annotation:annotation-experimental",
                "androidx.annotation:annotation-experimental-lint",
                "androidx.appcompat:appcompat",
                "androidx.appcompat:appcompat-resources",
                "androidx.arch.core:core-common",
                "androidx.arch.core:core-runtime",
                "androidx.arch.core:core-testing",
                "androidx.asynclayoutinflater:asynclayoutinflater",
                "androidx.autofill:autofill",
                "androidx.benchmark:benchmark",
                "androidx.benchmark:benchmark-common",
                "androidx.benchmark:benchmark-gradle-plugin",
                "androidx.benchmark:benchmark-junit4",
                "androidx.biometric:biometric",
                "androidx.biometric:biometric-ktx",
                "androidx.browser:browser",
                "androidx.camera:camera-camera2",
                "androidx.camera:camera-core",
                "androidx.camera:camera-extensions",
                "androidx.camera:camera-lifecycle",
                "androidx.camera:camera-view",
                "androidx.car:car",
                "androidx.car:car-cluster",
                "androidx.cardview:cardview",
                "androidx.collection:collection",
                "androidx.collection:collection-ktx",
                "androidx.compose:compose-compiler",
                "androidx.compose:compose-runtime",
                "androidx.compose.animation:animation",
                "androidx.compose.animation:animation-core",
                "androidx.compose.compiler:compiler",
                "androidx.compose.foundation:foundation",
                "androidx.compose.foundation:foundation-layout",
                "androidx.compose.foundation:foundation-text",
                "androidx.compose.material:material",
                "androidx.compose.material:material-icons-core",
                "androidx.compose.material:material-icons-extended",
                "androidx.compose.material:material-ripple",
                "androidx.compose.runtime:runtime",
                "androidx.compose.runtime:runtime-dispatch",
                "androidx.compose.runtime:runtime-livedata",
                "androidx.compose.runtime:runtime-rxjava2",
                "androidx.compose.runtime:runtime-rxjava3",
                "androidx.compose.runtime:runtime-saved-instance-state",
                "androidx.compose.ui:ui",
                "androidx.compose.ui:ui-geometry",
                "androidx.compose.ui:ui-graphics",
                "androidx.compose.ui:ui-test",
                "androidx.compose.ui:ui-test-junit4",
                "androidx.compose.ui:ui-text",
                "androidx.compose.ui:ui-text-android",
                "androidx.compose.ui:ui-tooling",
                "androidx.compose.ui:ui-unit",
                "androidx.compose.ui:ui-util",
                "androidx.compose.ui:ui-viewbinding",
                "androidx.concurrent:concurrent-futures",
                "androidx.concurrent:concurrent-futures-ktx",
                "androidx.concurrent:concurrent-listenablefuture",
                "androidx.concurrent:concurrent-listenablefuture-callback",
                "androidx.concurrent:futures",
                "androidx.constraintlayout:constraintlayout-solver",
                "androidx.constraintlayout:constraintlayout",
                "androidx.constraintlayout:constraintlayout-core",
                "androidx.contentpager:contentpager",
                "androidx.coordinatorlayout:coordinatorlayout",
                "androidx.core:core",
                "androidx.core:core-animation",
                "androidx.core:core-animation-testing",
                "androidx.core:core-ktx",
                "androidx.core:core-role",
                "androidx.cursoradapter:cursoradapter",
                "androidx.customview:customview",
                "androidx.databinding:adapters",
                "androidx.databinding:baseLibrary",
                "androidx.databinding:compiler",
                "androidx.databinding:compilerCommon",
                "androidx.databinding:databinding-adapters",
                "androidx.databinding:databinding-common",
                "androidx.databinding:databinding-compiler",
                "androidx.databinding:databinding-compiler-common",
                "androidx.databinding:databinding-ktx",
                "androidx.databinding:databinding-runtime",
                "androidx.databinding:library",
                "androidx.databinding:viewbinding",
                "androidx.datastore:datastore",
                "androidx.datastore:datastore-core",
                "androidx.datastore:datastore-preferences",
                "androidx.datastore:datastore-preferences-core",
                "androidx.documentfile:documentfile",
                "androidx.drawerlayout:drawerlayout",
                "androidx.dynamicanimation:dynamicanimation",
                "androidx.dynamicanimation:dynamicanimation-ktx",
                "androidx.emoji:emoji",
                "androidx.emoji:emoji-appcompat",
                "androidx.emoji:emoji-bundled",
                "androidx.enterprise:enterprise-feedback",
                "androidx.enterprise:enterprise-feedback-testing",
                "androidx.exifinterface:exifinterface",
                "androidx.fragment:fragment",
                "androidx.fragment:fragment-ktx",
                "androidx.fragment:fragment-testing",
                "androidx.games:games-frame-pacing",
                "androidx.games:games-performance-tuner",
                "androidx.gaming:gaming-frame-pacing",
                "androidx.gaming:gaming-performance-tuner",
                "androidx.gridlayout:gridlayout",
                "androidx.heifwriter:heifwriter",
                "androidx.hilt:hilt-common",
                "androidx.hilt:hilt-compiler",
                "androidx.hilt:hilt-lifecycle-viewmodel",
                "androidx.hilt:hilt-work",
                "androidx.interpolator:interpolator",
                "androidx.leanback:leanback",
                "androidx.leanback:leanback-paging",
                "androidx.leanback:leanback-preference",
                "androidx.leanback:leanback-tab",
                "androidx.legacy:legacy-support-v13",
                "androidx.legacy:legacy-preference-v14",
                "androidx.legacy:legacy-support-v4",
                "androidx.legacy:legacy-support-core-ui",
                "androidx.legacy:legacy-support-core-utils",
                "androidx.lifecycle:lifecycle-common",
                "androidx.lifecycle:lifecycle-common-java8",
                "androidx.lifecycle:lifecycle-compiler",
                "androidx.lifecycle:lifecycle-extensions",
                "androidx.lifecycle:lifecycle-livedata",
                "androidx.lifecycle:lifecycle-livedata-core",
                "androidx.lifecycle:lifecycle-livedata-core-ktx",
                "androidx.lifecycle:lifecycle-livedata-ktx",
                "androidx.lifecycle:lifecycle-process",
                "androidx.lifecycle:lifecycle-reactivestreams",
                "androidx.lifecycle:lifecycle-reactivestreams-ktx",
                "androidx.lifecycle:lifecycle-runtime",
                "androidx.lifecycle:lifecycle-runtime-ktx",
                "androidx.lifecycle:lifecycle-runtime-testing",
                "androidx.lifecycle:lifecycle-service",
                "androidx.lifecycle:lifecycle-viewmodel",
                "androidx.lifecycle:lifecycle-viewmodel-ktx",
                "androidx.lifecycle:lifecycle-viewmodel-savedstate",
                "androidx.loader:loader",
                "androidx.localbroadcastmanager:localbroadcastmanager",
                "androidx.media:media",
                "androidx.media:media-widget",
                "androidx.media2:media2",
                "androidx.media2:media2-common",
                "androidx.media2:media2-exoplayer",
                "androidx.media2:media2-player",
                "androidx.media2:media2-session",
                "androidx.media2:media2-widget",
                "androidx.mediarouter:mediarouter",
                "androidx.multidex:multidex",
                "androidx.multidex:multidex-instrumentation",
                "androidx.navigation:navigation-common",
                "androidx.navigation:navigation-common-ktx",
                "androidx.navigation:navigation-compose",
                "androidx.navigation:navigation-dynamic-features-fragment",
                "androidx.navigation:navigation-dynamic-features-runtime",
                "androidx.navigation:navigation-fragment",
                "androidx.navigation:navigation-fragment-ktx",
                "androidx.navigation:navigation-runtime",
                "androidx.navigation:navigation-runtime-ktx",
                "androidx.navigation:navigation-safe-args-generator",
                "androidx.navigation:navigation-safe-args-gradle-plugin",
                "androidx.navigation:navigation-testing",
                "androidx.navigation:navigation-ui",
                "androidx.navigation:navigation-ui-ktx",
                "androidx.paging:paging-common",
                "androidx.paging:paging-common-ktx",
                "androidx.paging:paging-compose",
                "androidx.paging:paging-guava",
                "androidx.paging:paging-runtime",
                "androidx.paging:paging-runtime-ktx",
                "androidx.paging:paging-rxjava2",
                "androidx.paging:paging-rxjava2-ktx",
                "androidx.paging:paging-rxjava3",
                "androidx.palette:palette-ktx",
                "androidx.palette:palette",
                "androidx.percentlayout:percentlayout",
                "androidx.preference:preference",
                "androidx.preference:preference-ktx",
                "androidx.print:print",
                "androidx.recommendation:recommendation",
                "androidx.recyclerview:recyclerview",
                "androidx.recyclerview:recyclerview-selection",
                "androidx.remotecallback:remotecallback",
                "androidx.remotecallback:remotecallback-processor",
                "androidx.room:room-common",
                "androidx.room:room-compiler",
                "androidx.room:room-compiler-processing",
                "androidx.room:room-coroutines",
                "androidx.room:room-guava",
                "androidx.room:room-ktx",
                "androidx.room:room-migration",
                "androidx.room:room-runtime",
                "androidx.room:room-rxjava2",
                "androidx.room:room-rxjava3",
                "androidx.room:room-testing",
                "androidx.savedstate:savedstate",
                "androidx.savedstate:savedstate-bundle",
                "androidx.savedstate:savedstate-common",
                "androidx.savedstate:savedstate-ktx",
                "androidx.security:security-crypto",
                "androidx.security:security-crypto-ktx",
                "androidx.security:security-identity-credential",
                "androidx.sharetarget:sharetarget",
                "androidx.slice:slice-core",
                "androidx.slice:slice-builders",
                "androidx.slice:slice-view",
                "androidx.slice:slice-builders-ktx",
                "androidx.slidingpanelayout:slidingpanelayout",
                "androidx.sqlite:sqlite-framework",
                "androidx.sqlite:sqlite",
                "androidx.sqlite:sqlite-ktx",
                "androidx.startup:startup-runtime",
                "androidx.swiperefreshlayout:swiperefreshlayout",
                "androidx.test:core",
                "androidx.test:core-ktx",
                "androidx.test:monitor",
                "androidx.test:orchestrator",
                "androidx.test:rules",
                "androidx.test:runner",
                "androidx.test.espresso:espresso-accessibility",
                "androidx.test.espresso:espresso-contrib",
                "androidx.test.espresso:espresso-core",
                "androidx.test.espresso:espresso-idling-resource",
                "androidx.test.espresso:espresso-intents",
                "androidx.test.espresso:espresso-remote",
                "androidx.test.espresso:espresso-web",
                "androidx.test.espresso.idling:idling-concurrent",
                "androidx.test.espresso.idling:idling-net",
                "androidx.test.ext:junit",
                "androidx.test.ext:junit-ktx",
                "androidx.test.ext:truth",
                "androidx.test.janktesthelper:janktesthelper-v23",
                "androidx.test.janktesthelper:janktesthelper",
                "androidx.test.services:storage",
                "androidx.test.services:test-services",
                "androidx.test.uiautomator:uiautomator-v18",
                "androidx.test.uiautomator:uiautomator",
                "androidx.textclassifier:textclassifier",
                "androidx.tracing:tracing",
                "androidx.tracing:tracing-ktx",
                "androidx.transition:transition",
                "androidx.transition:transition-ktx",
                "androidx.tvprovider:tvprovider",
                "androidx.ui:ui-android-text",
                "androidx.ui:ui-animation",
                "androidx.ui:ui-animation-core",
                "androidx.ui:ui-core",
                "androidx.ui:ui-foundation",
                "androidx.ui:ui-framework",
                "androidx.ui:ui-geometry",
                "androidx.ui:ui-graphics",
                "androidx.ui:ui-layout",
                "androidx.ui:ui-livedata",
                "androidx.ui:ui-material",
                "androidx.ui:ui-material-icons-core",
                "androidx.ui:ui-material-icons-extended",
                "androidx.ui:ui-platform",
                "androidx.ui:ui-rxjava2",
                "androidx.ui:ui-saved-instance-state",
                "androidx.ui:ui-test",
                "androidx.ui:ui-text",
                "androidx.ui:ui-text-android",
                "androidx.ui:ui-text-core",
                "androidx.ui:ui-tooling",
                "androidx.ui:ui-unit",
                "androidx.ui:ui-util",
                "androidx.ui:ui-vector",
                "androidx.vectordrawable:vectordrawable",
                "androidx.vectordrawable:vectordrawable-animated",
                "androidx.vectordrawable:vectordrawable-seekable",
                "androidx.versionedparcelable:versionedparcelable",
                "androidx.viewpager:viewpager",
                "androidx.viewpager2:viewpager2",
                "androidx.wear:wear",
                "androidx.wear:wear-complications-data",
                "androidx.wear:wear-complications-provider",
                "androidx.wear:wear-input",
                "androidx.wear:wear-input-testing",
                "androidx.wear:wear-watchface",
                "androidx.wear:wear-watchface-client",
                "androidx.wear:wear-watchface-complications-rendering",
                "androidx.wear:wear-watchface-data",
                "androidx.wear:wear-watchface-style",
                "androidx.webkit:webkit",
                "androidx.window:window",
                "androidx.window:window-extensions",
                "androidx.work:work-gcm",
                "androidx.work:work-multiprocess",
                "androidx.work:work-runtime",
                "androidx.work:work-runtime-ktx",
                "androidx.work:work-rxjava2",
                "androidx.work:work-rxjava3",
                "androidx.work:work-testing",
                "com.android:signflinger",
                "com.android:zipflinger",
                "com.android.application:com.android.application.gradle.plugin",
                "com.android.asset-pack:com.android.asset-pack.gradle.plugin",
                "com.android.billingclient:billing",
                "com.android.billingclient:billing-ktx",
                "com.android.databinding:adapters",
                "com.android.databinding:baseLibrary",
                "com.android.databinding:compiler",
                "com.android.databinding:compilerCommon",
                "com.android.databinding:library",
                "com.android.databinding:viewbinding",
                "com.android.databinding:viewbinding-support",
                "com.android.dynamic-feature:com.android.dynamic-feature.gradle.plugin",
                "com.android.installreferrer:installreferrer",
                "com.android.java.tools.build:java-lib-model",
                "com.android.java.tools.build:java-lib-model-builder",
                "com.android.library:com.android.library.gradle.plugin",
                "com.android.lint:com.android.lint.gradle.plugin",
                "com.android.ndk.thirdparty:curl",
                "com.android.ndk.thirdparty:jsoncpp",
                "com.android.ndk.thirdparty:openssl",
                "com.android.reporting:com.android.reporting.gradle.plugin",
                "com.android.support:support-compat",
                "com.android.support:leanback-v17",
                "com.android.support:recommendation",
                "com.android.support:support-tv-provider",
                "com.android.support:support-vector-drawable",
                "com.android.support:recyclerview-v7",
                "com.android.support:preference-leanback-v17",
                "com.android.support:preference-v14",
                "com.android.support:percent",
                "com.android.support:support-media-compat",
                "com.android.support:cardview-v7",
                "com.android.support:wearable",
                "com.android.support:exifinterface",
                "com.android.support:support-annotations",
                "com.android.support:appcompat-v7",
                "com.android.support:palette-v7",
                "com.android.support:multidex-instrumentation",
                "com.android.support:multidex",
                "com.android.support:mediarouter-v7",
                "com.android.support:preference-v7",
                "com.android.support:support-dynamic-animation",
                "com.android.support:support-fragment",
                "com.android.support:design",
                "com.android.support:transition",
                "com.android.support:customtabs",
                "com.android.support:support-core-ui",
                "com.android.support:gridlayout-v7",
                "com.android.support:animated-vector-drawable",
                "com.android.support:support-core-utils",
                "com.android.support:support-v13",
                "com.android.support:instantvideo",
                "com.android.support:support-v4",
                "com.android.support:support-emoji",
                "com.android.support:wear",
                "com.android.support:support-emoji-appcompat",
                "com.android.support:support-emoji-bundled",
                "com.android.support:support-content",
                "com.android.support:design-bottomnavigation",
                "com.android.support:design-button",
                "com.android.support:design-circularreveal-cardview",
                "com.android.support:design-bottomappbar",
                "com.android.support:design-card",
                "com.android.support:design-shape",
                "com.android.support:design-drawable",
                "com.android.support:design-bottomsheet",
                "com.android.support:design-floatingactionbutton",
                "com.android.support:design-circularreveal-coordinatorlayout",
                "com.android.support:design-textfield",
                "com.android.support:design-stateful",
                "com.android.support:design-circularreveal",
                "com.android.support:design-expandable",
                "com.android.support:design-navigation",
                "com.android.support:design-dialog",
                "com.android.support:design-canvas",
                "com.android.support:design-tabs",
                "com.android.support:design-chip",
                "com.android.support:design-snackbar",
                "com.android.support:design-theme",
                "com.android.support:design-math",
                "com.android.support:design-transformation",
                "com.android.support:design-widget",
                "com.android.support:design-animation",
                "com.android.support:design-typography",
                "com.android.support:design-color",
                "com.android.support:design-internal",
                "com.android.support:design-resources",
                "com.android.support:design-ripple",
                "com.android.support:coordinatorlayout",
                "com.android.support:collections",
                "com.android.support:slidingpanelayout",
                "com.android.support:asynclayoutinflater",
                "com.android.support:slices-view",
                "com.android.support:recyclerview-selection",
                "com.android.support:viewpager",
                "com.android.support:cursoradapter",
                "com.android.support:localbroadcastmanager",
                "com.android.support:heifwriter",
                "com.android.support:customview",
                "com.android.support:print",
                "com.android.support:slices-builders",
                "com.android.support:interpolator",
                "com.android.support:slices-core",
                "com.android.support:loader",
                "com.android.support:swiperefreshlayout",
                "com.android.support:drawerlayout",
                "com.android.support:documentfile",
                "com.android.support:webkit",
                "com.android.support:car",
                "com.android.support:versionedparcelable",
                "com.android.support:media2",
                "com.android.support.constraint:constraint-layout-solver",
                "com.android.support.constraint:constraint-layout",
                "com.android.support.test:runner",
                "com.android.support.test:rules",
                "com.android.support.test:exposed-instrumentation-api-publish",
                "com.android.support.test:testing-support-lib",
                "com.android.support.test:orchestrator",
                "com.android.support.test:monitor",
                "com.android.support.test.espresso:espresso-core",
                "com.android.support.test.espresso:espresso-web",
                "com.android.support.test.espresso:espresso-intents",
                "com.android.support.test.espresso:espresso-contrib",
                "com.android.support.test.espresso:espresso-idling-resource",
                "com.android.support.test.espresso:espresso-accessibility",
                "com.android.support.test.espresso:espresso-remote",
                "com.android.support.test.espresso.idling:idling-net",
                "com.android.support.test.espresso.idling:idling-concurrent",
                "com.android.support.test.janktesthelper:janktesthelper-v23",
                "com.android.support.test.services:test-services",
                "com.android.support.test.uiautomator:uiautomator-v18",
                "com.android.test:com.android.test.gradle.plugin",
                "com.android.tools:annotations",
                "com.android.tools:common",
                "com.android.tools:desugar_jdk_libs",
                "com.android.tools:desugar_jdk_libs_configuration",
                "com.android.tools:devicelib",
                "com.android.tools:draw9patch",
                "com.android.tools:dvlib",
                "com.android.tools:ninepatch",
                "com.android.tools:r8",
                "com.android.tools:repository",
                "com.android.tools:sdk-common",
                "com.android.tools:sdklib",
                "com.android.tools:testutils",
                "com.android.tools.analytics-library:crash",
                "com.android.tools.analytics-library:inspector",
                "com.android.tools.analytics-library:protos",
                "com.android.tools.analytics-library:publisher",
                "com.android.tools.analytics-library:shared",
                "com.android.tools.analytics-library:testing",
                "com.android.tools.analytics-library:tracker",
                "com.android.tools.apkparser:apkanalyzer",
                "com.android.tools.apkparser:binary-resources",
                "com.android.tools.build:aapt2",
                "com.android.tools.build:aapt2-proto",
                "com.android.tools.build:aaptcompiler",
                "com.android.tools.build:apksig",
                "com.android.tools.build:apkzlib",
                "com.android.tools.build:builder",
                "com.android.tools.build:builder-model",
                "com.android.tools.build:builder-test-api",
                "com.android.tools.build:bundletool",
                "com.android.tools.build:gradle",
                "com.android.tools.build:gradle-api",
                "com.android.tools.build:gradle-core",
                "com.android.tools.build:gradle-experimental",
                "com.android.tools.build:manifest-merger",
                "com.android.tools.build:transform-api",
                "com.android.tools.build.jetifier:jetifier-core",
                "com.android.tools.build.jetifier:jetifier-processor",
                "com.android.tools.chunkio:chunkio",
                "com.android.tools.ddms:ddmlib",
                "com.android.tools.external.com-intellij:intellij-core",
                "com.android.tools.external.com-intellij:kotlin-compiler",
                "com.android.tools.external.com-intellij:uast",
                "com.android.tools.external.org-jetbrains:uast",
                "com.android.tools.fakeadbserver:fakeadbserver",
                "com.android.tools.internal.build.test:devicepool",
                "com.android.tools.layoutlib:layoutlib-api",
                "com.android.tools.lint:lint",
                "com.android.tools.lint:lint-api",
                "com.android.tools.lint:lint-checks",
                "com.android.tools.lint:lint-gradle",
                "com.android.tools.lint:lint-gradle-api",
                "com.android.tools.lint:lint-kotlin",
                "com.android.tools.lint:lint-model",
                "com.android.tools.lint:lint-tests",
                "com.android.tools.metalava:metalava",
                "com.android.tools.pixelprobe:pixelprobe",
                "com.crashlytics.sdk.android:answers",
                "com.crashlytics.sdk.android:beta",
                "com.crashlytics.sdk.android:crashlytics-core",
                "com.crashlytics.sdk.android:crashlytics",
                "com.crashlytics.sdk.android:crashlytics-ndk",
                "com.google.ads.afsn:afs-native",
                "com.google.ads.interactivemedia.v3:interactivemedia",
                "com.google.android.ads:mediation-test-suite",
                "com.google.android.ads.consent:consent-library",
                "com.google.android.apps.common.testing.accessibility.framework:accessibility-test-framework",
                "com.google.android.datatransport:transport-api",
                "com.google.android.datatransport:transport-backend-cct",
                "com.google.android.datatransport:transport-runtime",
                "com.google.android.games:memory-advice",
                "com.google.android.games:memory-advice-common",
                "com.google.android.gms:auth-api-impl",
                "com.google.android.gms:oss-licenses-plugin",
                "com.google.android.gms:play-services",
                "com.google.android.gms:play-services-ads",
                "com.google.android.gms:play-services-ads-base",
                "com.google.android.gms:play-services-ads-identifier",
                "com.google.android.gms:play-services-ads-license",
                "com.google.android.gms:play-services-ads-lite",
                "com.google.android.gms:play-services-ads-lite-license",
                "com.google.android.gms:play-services-afs-native",
                "com.google.android.gms:play-services-all-wear",
                "com.google.android.gms:play-services-analytics",
                "com.google.android.gms:play-services-analytics-impl",
                "com.google.android.gms:play-services-analytics-impl-license",
                "com.google.android.gms:play-services-analytics-license",
                "com.google.android.gms:play-services-appindexing",
                "com.google.android.gms:play-services-appinvite",
                "com.google.android.gms:play-services-appinvite-license",
                "com.google.android.gms:play-services-appstate",
                "com.google.android.gms:play-services-audience",
                "com.google.android.gms:play-services-auth",
                "com.google.android.gms:play-services-auth-api-phone",
                "com.google.android.gms:play-services-auth-api-phone-license",
                "com.google.android.gms:play-services-auth-base",
                "com.google.android.gms:play-services-auth-base-license",
                "com.google.android.gms:play-services-auth-license",
                "com.google.android.gms:play-services-awareness",
                "com.google.android.gms:play-services-awareness-license",
                "com.google.android.gms:play-services-base",
                "com.google.android.gms:play-services-base-license",
                "com.google.android.gms:play-services-basement",
                "com.google.android.gms:play-services-basement-license",
                "com.google.android.gms:play-services-cast",
                "com.google.android.gms:play-services-cast-framework",
                "com.google.android.gms:play-services-cast-framework-license",
                "com.google.android.gms:play-services-cast-license",
                "com.google.android.gms:play-services-cast-tv",
                "com.google.android.gms:play-services-clearcut",
                "com.google.android.gms:play-services-cloud-messaging",
                "com.google.android.gms:play-services-contextmanager",
                "com.google.android.gms:play-services-cronet",
                "com.google.android.gms:play-services-drive",
                "com.google.android.gms:play-services-drive-license",
                "com.google.android.gms:play-services-fido",
                "com.google.android.gms:play-services-fido-license",
                "com.google.android.gms:play-services-fitness",
                "com.google.android.gms:play-services-fitness-license",
                "com.google.android.gms:play-services-flags",
                "com.google.android.gms:play-services-games",
                "com.google.android.gms:play-services-games-license",
                "com.google.android.gms:play-services-gass",
                "com.google.android.gms:play-services-gass-license",
                "com.google.android.gms:play-services-gcm",
                "com.google.android.gms:play-services-gcm-license",
                "com.google.android.gms:play-services-identity",
                "com.google.android.gms:play-services-identity-license",
                "com.google.android.gms:play-services-iid",
                "com.google.android.gms:play-services-iid-license",
                "com.google.android.gms:play-services-instantapps",
                "com.google.android.gms:play-services-instantapps-license",
                "com.google.android.gms:play-services-location",
                "com.google.android.gms:play-services-location-license",
                "com.google.android.gms:play-services-maps",
                "com.google.android.gms:play-services-maps-license",
                "com.google.android.gms:play-services-measurement",
                "com.google.android.gms:play-services-measurement-api",
                "com.google.android.gms:play-services-measurement-base",
                "com.google.android.gms:play-services-measurement-impl",
                "com.google.android.gms:play-services-measurement-sdk",
                "com.google.android.gms:play-services-measurement-sdk-api",
                "com.google.android.gms:play-services-mlkit-barcode-scanning",
                "com.google.android.gms:play-services-mlkit-face-detection",
                "com.google.android.gms:play-services-mlkit-image-labeling",
                "com.google.android.gms:play-services-mlkit-text-recognition",
                "com.google.android.gms:play-services-nearby",
                "com.google.android.gms:play-services-nearby-license",
                "com.google.android.gms:play-services-oss-licenses",
                "com.google.android.gms:play-services-oss-licenses-license",
                "com.google.android.gms:play-services-panorama",
                "com.google.android.gms:play-services-panorama-license",
                "com.google.android.gms:play-services-password-complexity",
                "com.google.android.gms:play-services-phenotype",
                "com.google.android.gms:play-services-places",
                "com.google.android.gms:play-services-places-license",
                "com.google.android.gms:play-services-places-placereport",
                "com.google.android.gms:play-services-plus",
                "com.google.android.gms:play-services-plus-license",
                "com.google.android.gms:play-services-recaptcha",
                "com.google.android.gms:play-services-safetynet",
                "com.google.android.gms:play-services-safetynet-license",
                "com.google.android.gms:play-services-stats",
                "com.google.android.gms:play-services-tagmanager",
                "com.google.android.gms:play-services-tagmanager-api",
                "com.google.android.gms:play-services-tagmanager-api-license",
                "com.google.android.gms:play-services-tagmanager-license",
                "com.google.android.gms:play-services-tagmanager-v4-impl",
                "com.google.android.gms:play-services-tagmanager-v4-impl-license",
                "com.google.android.gms:play-services-tasks",
                "com.google.android.gms:play-services-tasks-license",
                "com.google.android.gms:play-services-vision",
                "com.google.android.gms:play-services-vision-common",
                "com.google.android.gms:play-services-vision-common-license",
                "com.google.android.gms:play-services-vision-face-contour-internal",
                "com.google.android.gms:play-services-vision-image-label",
                "com.google.android.gms:play-services-vision-image-labeling-internal",
                "com.google.android.gms:play-services-vision-license",
                "com.google.android.gms:play-services-wallet",
                "com.google.android.gms:play-services-wallet-license",
                "com.google.android.gms:play-services-wearable",
                "com.google.android.gms:play-services-wearable-license",
                "com.google.android.gms:strict-version-matcher-plugin",
                "com.google.android.instantapps:instantapps",
                "com.google.android.instantapps.thirdpartycompat:volleycompat",
                "com.google.android.libraries.car:car-app",
                "com.google.android.libraries.car:car-app-testing",
                "com.google.android.libraries.maps:maps",
                "com.google.android.libraries.places:places",
                "com.google.android.libraries.places:places-compat",
                "com.google.android.material:compose-theme-adapter",
                "com.google.android.material:material",
                "com.google.android.play:core",
                "com.google.android.play:core-ktx",
                "com.google.android.support:wearable",
                "com.google.android.things:androidthings",
                "com.google.android.ump:user-messaging-platform",
                "com.google.android.wearable:wearable",
                "com.google.androidbrowserhelper:androidbrowserhelper",
                "com.google.androidbrowserhelper:billing",
                "com.google.androidbrowserhelper:locationdelegation",
                "com.google.ar:core",
                "com.google.ar.sceneform:filament-android",
                "com.google.ar.sceneform:core",
                "com.google.ar.sceneform:rendering",
                "com.google.ar.sceneform:plugin",
                "com.google.ar.sceneform:sceneform-base",
                "com.google.ar.sceneform:assets",
                "com.google.ar.sceneform:animation",
                "com.google.ar.sceneform.ux:sceneform-ux",
                "com.google.assistant.suggestion:assistant-suggestions",
                "com.google.devtools.ksp:com.google.devtools.ksp.gradle.plugin",
                "com.google.devtools.ksp:symbol-processing",
                "com.google.devtools.ksp:symbol-processing-api",
                "com.google.devtools.ksp:symbol-processing-gradle-plugin",
                "com.google.fhir:r4",
                "com.google.firebase:crash-plugin",
                "com.google.firebase:firebase-abt",
                "com.google.firebase:firebase-ads",
                "com.google.firebase:firebase-ads-lite",
                "com.google.firebase:firebase-analytics",
                "com.google.firebase:firebase-analytics-impl",
                "com.google.firebase:firebase-analytics-impl-license",
                "com.google.firebase:firebase-analytics-ktx",
                "com.google.firebase:firebase-analytics-license",
                "com.google.firebase:firebase-annotations",
                "com.google.firebase:firebase-appdistribution-gradle",
                "com.google.firebase:firebase-appindexing",
                "com.google.firebase:firebase-appindexing-license",
                "com.google.firebase:firebase-auth",
                "com.google.firebase:firebase-auth-common",
                "com.google.firebase:firebase-auth-impl",
                "com.google.firebase:firebase-auth-interop",
                "com.google.firebase:firebase-auth-ktx",
                "com.google.firebase:firebase-auth-license",
                "com.google.firebase:firebase-auth-module",
                "com.google.firebase:firebase-bom",
                "com.google.firebase:firebase-common",
                "com.google.firebase:firebase-common-ktx",
                "com.google.firebase:firebase-common-license",
                "com.google.firebase:firebase-components",
                "com.google.firebase:firebase-config",
                "com.google.firebase:firebase-config-ktx",
                "com.google.firebase:firebase-config-license",
                "com.google.firebase:firebase-core",
                "com.google.firebase:firebase-crash",
                "com.google.firebase:firebase-crash-license",
                "com.google.firebase:firebase-crashlytics",
                "com.google.firebase:firebase-crashlytics-buildtools",
                "com.google.firebase:firebase-crashlytics-gradle",
                "com.google.firebase:firebase-crashlytics-ktx",
                "com.google.firebase:firebase-crashlytics-ndk",
                "com.google.firebase:firebase-database",
                "com.google.firebase:firebase-database-collection",
                "com.google.firebase:firebase-database-connection",
                "com.google.firebase:firebase-database-connection-license",
                "com.google.firebase:firebase-database-ktx",
                "com.google.firebase:firebase-database-license",
                "com.google.firebase:firebase-datatransport",
                "com.google.firebase:firebase-dynamic-links",
                "com.google.firebase:firebase-dynamic-links-ktx",
                "com.google.firebase:firebase-dynamic-links-license",
                "com.google.firebase:firebase-encoders",
                "com.google.firebase:firebase-encoders-json",
                "com.google.firebase:firebase-firestore",
                "com.google.firebase:firebase-firestore-ktx",
                "com.google.firebase:firebase-functions",
                "com.google.firebase:firebase-functions-ktx",
                "com.google.firebase:firebase-functions-license",
                "com.google.firebase:firebase-iid",
                "com.google.firebase:firebase-iid-interop",
                "com.google.firebase:firebase-iid-license",
                "com.google.firebase:firebase-inappmessaging",
                "com.google.firebase:firebase-inappmessaging-display",
                "com.google.firebase:firebase-inappmessaging-display-ktx",
                "com.google.firebase:firebase-inappmessaging-ktx",
                "com.google.firebase:firebase-installations",
                "com.google.firebase:firebase-installations-interop",
                "com.google.firebase:firebase-installations-ktx",
                "com.google.firebase:firebase-invites",
                "com.google.firebase:firebase-measurement-connector",
                "com.google.firebase:firebase-measurement-connector-impl",
                "com.google.firebase:firebase-messaging",
                "com.google.firebase:firebase-messaging-directboot",
                "com.google.firebase:firebase-messaging-ktx",
                "com.google.firebase:firebase-messaging-license",
                "com.google.firebase:firebase-ml-common",
                "com.google.firebase:firebase-ml-model-interpreter",
                "com.google.firebase:firebase-ml-natural-language",
                "com.google.firebase:firebase-ml-natural-language-language-id-model",
                "com.google.firebase:firebase-ml-natural-language-smart-reply",
                "com.google.firebase:firebase-ml-natural-language-smart-reply-model",
                "com.google.firebase:firebase-ml-natural-language-translate",
                "com.google.firebase:firebase-ml-natural-language-translate-model",
                "com.google.firebase:firebase-ml-vision",
                "com.google.firebase:firebase-ml-vision-automl",
                "com.google.firebase:firebase-ml-vision-barcode-model",
                "com.google.firebase:firebase-ml-vision-face-model",
                "com.google.firebase:firebase-ml-vision-image-label-model",
                "com.google.firebase:firebase-ml-vision-internal-vkp",
                "com.google.firebase:firebase-ml-vision-object-detection-model",
                "com.google.firebase:firebase-perf",
                "com.google.firebase:firebase-perf-ktx",
                "com.google.firebase:firebase-perf-license",
                "com.google.firebase:firebase-plugins",
                "com.google.firebase:firebase-storage",
                "com.google.firebase:firebase-storage-common",
                "com.google.firebase:firebase-storage-common-license",
                "com.google.firebase:firebase-storage-ktx",
                "com.google.firebase:firebase-storage-license",
                "com.google.firebase:perf-plugin",
                "com.google.firebase:protolite-well-known-types",
                "com.google.firebase:testlab-instr-lib",
                "com.google.gms:google-services",
                "com.google.gms:oss-licenses",
                "com.google.mlkit:barcode-scanning",
                "com.google.mlkit:common",
                "com.google.mlkit:digital-ink-recognition",
                "com.google.mlkit:entity-extraction",
                "com.google.mlkit:face-detection",
                "com.google.mlkit:image-labeling",
                "com.google.mlkit:image-labeling-automl",
                "com.google.mlkit:image-labeling-common",
                "com.google.mlkit:image-labeling-custom",
                "com.google.mlkit:image-labeling-default-common",
                "com.google.mlkit:language-id",
                "com.google.mlkit:linkfirebase",
                "com.google.mlkit:mediapipe-internal",
                "com.google.mlkit:object-detection",
                "com.google.mlkit:object-detection-common",
                "com.google.mlkit:object-detection-custom",
                "com.google.mlkit:pose-detection",
                "com.google.mlkit:pose-detection-accurate",
                "com.google.mlkit:pose-detection-common",
                "com.google.mlkit:smart-reply",
                "com.google.mlkit:translate",
                "com.google.mlkit:vision-common",
                "com.google.mlkit:vision-internal-vkp",
                "com.google.oboe:oboe",
                "com.google.prefab:api",
                "com.google.prefab:cli",
                "com.google.test.platform:android-device-controller-adb",
                "com.google.test.platform:android-device-provider-local",
                "com.google.test.platform:android-driver-instrumentation",
                "com.google.test.platform:android-test-plugin",
                "com.google.test.platform:android-test-plugin-host-retention",
                "com.google.test.platform:core",
                "com.google.test.platform:core-proto",
                "com.google.test.platform:launcher",
                "com.google.testing.platform:android-device-controller-adb",
                "com.google.testing.platform:android-device-provider-gradle",
                "com.google.testing.platform:android-device-provider-local",
                "com.google.testing.platform:android-device-provider-virtual",
                "com.google.testing.platform:android-driver-instrumentation",
                "com.google.testing.platform:android-test-plugin",
                "com.google.testing.platform:android-test-plugin-host-device-info",
                "com.google.testing.platform:android-test-plugin-host-retention",
                "com.google.testing.platform:core",
                "com.google.testing.platform:core-proto",
                "com.google.testing.platform:launcher",
                "io.fabric.sdk.android:fabric",
                "org.chromium.net:cronet-fallback",
                "org.chromium.net:cronet-common",
                "org.chromium.net:cronet-embedded",
                "org.chromium.net:cronet-api",
                "org.jetbrains.kotlin:kotlin-compiler-embeddable",
                "org.jetbrains.kotlin:kotlin-ksp",
                "org.jetbrains.kotlin:kotlin-symbol-processing-api",
                "tools.base.build-system.debug:model"
        )
    }

}
